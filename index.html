<!DOCTYPE html>
<html>
<head>
    <style>
        #password {
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div id="password"></div>

    <script>
        function generatePassword() {
            var password = [];
            var allowedChars = "";
            var output = document.getElementById("password");

            var passwordLength = parseInt(prompt("How many characters? (8-128)"));
            if (passwordLength < 8 || passwordLength > 128 || Number.isNaN(passwordLength) ) {
                alert("Please enter a number from 8 to 128.");
                return;
            }
            if (confirm("Lowercase?")) {
                var lowerCase = "abcdefghijklmnopqrstuvwxyz";
                allowedChars += lowerCase;
            }
            if (confirm("Uppercase?")) {
                var upperCase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
                allowedChars += upperCase;
            }
            if (confirm("Numbers?")) {
                var numbers = "1234567890";
                allowedChars += numbers;
            }
            if (confirm("Special Characters?")) {
                var symbols = "!#$%&*+-=?@^_|<>(){}[]:;,.";
                allowedChars += symbols;
            }

            for (var i = 0; i < passwordLength; i++) {
                if (i === 0) {
                    if (lowerCase) {
                        password.splice(Math.floor(Math.random()*password.length),0,lowerCase[Math.floor(Math.random()*lowerCase.length)])
                        i++;
                    }
                    if (upperCase) {
                        password.splice(Math.floor(Math.random()*password.length),0,upperCase[Math.floor(Math.random()*upperCase.length)])
                        i++;
                    }
                    if (numbers) {
                        password.splice(Math.floor(Math.random()*password.length),0,numbers[Math.floor(Math.random()*numbers.length)])
                        i++;
                    }
                    if (symbols) {
                        password.splice(Math.floor(Math.random()*password.length),0,symbols[Math.floor(Math.random()*symbols.length)])
                        i++;
                    }
                }
                password.splice(Math.floor(Math.random()*password.length),0,allowedChars[Math.floor(Math.random()*allowedChars.length)]);
            }
            output.innerText = password.join("");
        }
        generatePassword();
    </script>
</body>
</html>